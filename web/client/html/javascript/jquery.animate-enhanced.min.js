/************************************************
jquery.animate-enhanced plugin v0.55
Author: www.benbarnett.net || @benpbarnett

Copyright (c) 2010 Ben Barnett
Licensed under the MIT license
http://www.opensource.org/licenses/mit-license.php
*************************************************/
(function(t,y,z){function B(a,f,k,l,i,n,s){a=typeof a==="undefined"?{}:a;a.secondary=typeof a.secondary==="undefined"?{}:a.secondary;for(var b=g.length-1;b>=0;b--){if(typeof a[g[b]+"transition-property"]==="undefined")a[g[b]+"transition-property"]="";a[g[b]+"transition-property"]+=", "+(n===true?g[b]+"transform":f);a[g[b]+"transition-duration"]=k+"ms";a[g[b]+"transition-timing-function"]=l;a.secondary[n===true?g[b]+"transform":f]=n===true?s===true&&C?"translate3d("+a.meta.left+"px,"+a.meta.top+"px,0)":
"translate("+a.meta.left+"px,"+a.meta.top+"px)":i}return a}function v(a){for(var f in a)return false;return true}var D=["top","left","opacity","height","width"],g=["","-webkit-","-moz-","-o-"],E=["avoidTransforms","useTranslate3d","leaveTransforms"],F=/^([+-]=)?([\d+-.]+)(.*)$/,G=/([A-Z])/g;t=(document.body||document.documentElement).style;var x=t.WebkitTransition!==undefined?"webkitTransitionEnd":t.OTransition!==undefined?"oTransitionEnd":"transitionend",A=t.WebkitTransition!==undefined||t.MozTransition!==
undefined||t.OTransition!==undefined||t.transition!==undefined,C="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;jQuery.fn.translation=function(){if(!this[0])return null;for(var a=window.getComputedStyle(this[0],null),f={x:0,y:0},k=g.length-1;k>=0;k--){var l=a.getPropertyValue(g[k]+"transform");if(l&&/matrix/i.test(l)){a=l.replace(/^matrix\(/i,"").split(/, |\)$/g);f={x:a[4],y:a[5]};break}}return f};jQuery.fn.animate=function(a,f,k,l){if(!A||v(a))return y.apply(this,arguments);f=typeof f===
"undefined"||f=="def"?"_default":f;if(typeof jQuery.fx.speeds[f]!=="undefined")f=jQuery.fx.speeds[f];var i=f&&typeof f==="object"?f:{complete:l||!l&&k||jQuery.isFunction(f)&&f,duration:f,easing:l&&k||k&&!jQuery.isFunction(k)&&k},n=this[0]||window,s=0,b=function(){s--;if(s<=0)if(typeof i.complete==="function")return i.complete.apply(n,arguments)},o=function(){for(var e=jQuery(this),c={},d=g.length-1;d>=0;d--){c[g[d]+"transition-property"]="none";c[g[d]+"transition-duration"]="";c[g[d]+"transition-timing-function"]=
""}e.unbind(x);if(!a.leaveTransforms===true){d=e.data("cssEnhanced")||{};var m={"-webkit-transform":"","-moz-transform":"","-o-transform":"",transform:""};if(typeof d.meta!=="undefined"){m.left=d.meta.left_o+"px";m.top=d.meta.top_o+"px"}e.css(c).css(m)}e.data("cssEnhanced",null);b()},q={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInOutQuint:"cubic-bezier(0.5, 0, 0, 0.8)"},u=null,H=q[i.easing||"swing"]?q[i.easing||"swing"]:i.easing||"swing",h;for(h in a)jQuery.inArray(h,
E)===-1&&this.each(function(){var e=jQuery(this),c;var d=a[h];c=h;var m=(h=="left"||h=="top")&&a.avoidTransforms!==true?true:false,j=F.exec(d),p=e.css(c)==="auto"?0:e.css(c);p=typeof p=="string"?p.replace(/px/g,""):p;typeof d=="string"&&d.replace(/px/g,"");m=m===true?0:p;var w=e.is(":hidden"),r=e.translation();if(c=="left")m=parseInt(p,10)+r.x;if(c=="top")m=parseInt(p,10)+r.y;if(!j&&d=="show"){m=1;w&&e.css({display:"block",opacity:0})}if(j){d=parseFloat(j[2]);if(j[1])d=(j[1]==="-="?-1:1)*d+parseInt(m,
10);c=d}else c=m;if(jQuery.inArray(h,D)>-1&&e.css(h).replace(/px/g,"")!==c&&!((h=="width"||h=="height")&&(a[h]=="show"||a[h]=="hide"||a[h]=="toggle"))){j=h;d=i.duration;c=(h=="left"||h=="top")&&a.avoidTransforms===true?c+"px":c;p=(h=="left"||h=="top")&&a.avoidTransforms!==true?true:false;m=a.useTranslate3d===true?true:false;w=e.data("cssEnhanced")||{secondary:{},meta:{left:0,top:0}};if(j=="left"||j=="top"){r=w.meta;r[j]=c;r[j+"_o"]=e.css(j)=="auto"?0+c:parseInt(e.css(j).replace(/px/g,""),10)+c||0;
w.meta=r;if(p&&c===0){c=0-r[j+"_o"];r[j]=c;r[j+"_o"]=0}}e.data("cssEnhanced",B(w,j,d,H,c,p,m))}else{u=!u?{}:u;u[h]=a[h]}});this.each(function(){for(var e=jQuery(this),c=e.data("cssEnhanced")||{},d=g.length-1;d>=0;d--)if(typeof c[g[d]+"transition-property"]!=="undefined")c[g[d]+"transition-property"]=c[g[d]+"transition-property"].substr(2);e.data("cssEnhanced",c)});if(u){s++;y.apply(this,[u,i.duration,i.easing,b])}this.each(function(){var e=jQuery(this).unbind(x);if(!v(e.data("cssEnhanced"))&&!v(e.data("cssEnhanced").secondary)){s++;
e.css(e.data("cssEnhanced"));setTimeout(function(){e.bind(x,o).css(e.data("cssEnhanced").secondary)})}});return this};jQuery.fn.stop=function(a,f,k){if(!A)return z.apply(this,[a,f]);a&&this.queue([]);for(var l={},i=g.length-1;i>=0;i--){l[g[i]+"transition-property"]="none";l[g[i]+"transition-duration"]="";l[g[i]+"transition-timing-function"]=""}this.each(function(){var n=jQuery(this),s=window.getComputedStyle(this,null),b={};if(!v(n.data("cssEnhanced"))&&!v(n.data("cssEnhanced").secondary)){var o=
n.data("cssEnhanced");if(f){b=o.secondary;if(!k&&typeof o.meta.left_o!==undefined||typeof o.meta.top_o!==undefined){b.left=typeof o.meta.left_o!==undefined?o.meta.left_o:"auto";b.top=typeof o.meta.top_o!==undefined?o.meta.top_o:"auto";b["-webkit-transform"]="";b["-moz-transform"]="";b["-o-transform"]="";b.transform=""}}else for(var q in n.data("cssEnhanced").secondary){q=q.replace(G,"-$1").toLowerCase();b[q]=s.getPropertyValue(q);if(!k&&/matrix/i.test(b[q])){o=b[q].replace(/^matrix\(/i,"").split(/, |\)$/g);
b.left=o[4]+"px"||"auto";b.top=o[5]+"px"||"auto";b["-webkit-transform"]="";b["-moz-transform"]="";b["-o-transform"]="";b.transform=""}}n.unbind(x).css(l).css(b).data("cssEnhanced",null)}else z.apply(n,[a,f])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);